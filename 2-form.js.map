{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nfunction save() {\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction load() {\n  return JSON.parse(window.localStorage.getItem(STORAGE_KEY));\n}\n\nfunction clear() {\n  window.localStorage.clear();\n  for (let key in formData) {\n    formData[key] = '';\n  }\n}\n\n/**\n * @param {String} fieldName\n */\nconst trackState = fieldName => {\n  const field = document.querySelector(`[name=${fieldName}]`);\n  if (formData[fieldName]) {\n    field.value = formData[fieldName];\n  }\n\n  field.addEventListener('input', event => {\n    formData[fieldName] = event.target.value;\n    save();\n  });\n};\n\ndocument.querySelector('form').addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (Object.values(formData).some(field => field === '')) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  clear();\n  event.target.reset();\n});\n\n(() => {\n  formData = load() || formData;\n  Object.keys(formData).forEach(trackState);\n})();\n"],"names":["formData","STORAGE_KEY","save","load","clear","key","trackState","fieldName","field","event"],"mappings":"wFAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAc,sBAEpB,SAASC,GAAO,CACd,OAAO,aAAa,QAAQD,EAAa,KAAK,UAAUD,CAAQ,CAAC,CACnE,CAEA,SAASG,GAAO,CACd,OAAO,KAAK,MAAM,OAAO,aAAa,QAAQF,CAAW,CAAC,CAC5D,CAEA,SAASG,GAAQ,CACf,OAAO,aAAa,QACpB,QAASC,KAAOL,EACdA,EAASK,CAAG,EAAI,EAEpB,CAKA,MAAMC,EAAaC,GAAa,CAC9B,MAAMC,EAAQ,SAAS,cAAc,SAASD,CAAS,GAAG,EACtDP,EAASO,CAAS,IACpBC,EAAM,MAAQR,EAASO,CAAS,GAGlCC,EAAM,iBAAiB,QAASC,GAAS,CACvCT,EAASO,CAAS,EAAIE,EAAM,OAAO,MACnCP,GACJ,CAAG,CACH,EAEA,SAAS,cAAc,MAAM,EAAE,iBAAiB,SAAUO,GAAS,CAGjE,GAFAA,EAAM,eAAc,EAEhB,OAAO,OAAOT,CAAQ,EAAE,KAAKQ,GAASA,IAAU,EAAE,EAAG,CACvD,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIR,CAAQ,EACpBI,IACAK,EAAM,OAAO,OACf,CAAC,EAGCT,EAAWG,EAAM,GAAIH,EACrB,OAAO,KAAKA,CAAQ,EAAE,QAAQM,CAAU"}